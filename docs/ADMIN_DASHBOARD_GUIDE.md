# 관리자 대시보드 가이드

**QR + GPS 기반 금형관리시스템 Ver.09**

---

## 📊 관리자 대시보드 개요

시스템 전체를 관리하고 GPS 기반 금형 위치를 실시간으로 모니터링할 수 있는 통합 대시보드입니다.

### 주요 기능

1. **시스템 전체 관리**
   - 사용자 관리
   - 권한 관리
   - 시스템 모니터링
   - 데이터 백업

2. **GPS 금형 위치 추적**
   - 실시간 위치 표시
   - 마커 클러스터링
   - 상태별 필터링
   - 정확도 표시

3. **통계 및 분석**
   - 실시간 통계
   - 활동 피드
   - 알림 및 경고
   - 성능 모니터링

---

## 🗺️ GPS 금형 위치 추적 맵

### 화면 구조

시스템 전체를 관리하고 GPS 기반 금형 위치를 실시간으로 모니터링할 수 있는 통합 대시보드입니다.

```
┌─────────────────────────────────────────────────────────────┐
│  Creative Auto Module System                                │
├─────────────────────────────────────────────────────────────┤
│  [로고] 금형관리시스템 관리자      [알림 🔔] [프로필 👤]    │
├─────────────────────────────────────────────────────────────┤
│  [전체] [협력사] [제작처] [수리중] [이관중]          │
├─────────────────────────────────────────────────┤
│                                                  │
│              [Interactive Map]                   │
│                                                  │
│  📍 협력사A (125개)  📍 협력사B (89개)           │
│  📍 제작처C (67개)   📍 생산처D (45개)           │
│                                                  │
│  [범례]              [통계]                      │
│  🟢 정상 가동         총 위치: 45개              │
│  🟠 점검 필요         총 금형: 1,234개           │
│  🔴 긴급 조치         업데이트: 방금 전           │
│  ⚪ 대기/이관                                    │
│                                                  │
└─────────────────────────────────────────────────┘
```

### 마커 색상 및 의미

| 색상 | 상태 | 설명 |
|------|------|------|
| 🟢 초록색 | 정상 가동 | 금형이 정상적으로 가동 중 |
| 🟠 주황색 | 점검 필요 | 점검 예정일 임박 또는 점검 지연 |
| 🔴 빨간색 | 긴급 조치 | 긴급 수리 필요 또는 중대 결함 |
| ⚪ 회색 | 대기/이관 | 대기 중이거나 이관 진행 중 |

### 마커 클러스터링

금형이 밀집된 지역은 자동으로 클러스터링되어 표시됩니다.

```javascript
// 클러스터 크기
- 소형 (1-50개): 40px, 파란색
- 중형 (51-100개): 50px, 진한 파란색
- 대형 (101개 이상): 60px, 매우 진한 파란색

// 클러스터 클릭 시
→ 자동 줌인하여 개별 마커 표시
```

### GPS 정확도 표시

각 마커 주변에 반투명 원으로 GPS 정확도를 표시합니다.

```javascript
// 정확도 원
- 반경: GPS 정확도 (기본 50m)
- 색상: 
  • 초록색 (≤ 50m): 정확
  • 빨간색 (> 50m): 부정확
- 투명도: 10%
```

---

## 📊 통계 카드

### 1. 전체 금형

```
┌──────────────┐
│ 📦          │ +12.5%
│              │
│   1,234      │
│ 전체 금형     │
└──────────────┘
```

- **표시 정보**: 시스템에 등록된 전체 금형 수
- **증감률**: 전월 대비 증감률
- **클릭 시**: 금형 목록 페이지로 이동

### 2. 가동 중

```
┌──────────────┐
│ ▶️          │ 69.3%
│              │
│    856       │
│  가동 중      │
└──────────────┘
```

- **표시 정보**: 현재 가동 중인 금형 수
- **가동률**: 전체 금형 대비 가동 중인 비율
- **클릭 시**: 가동 중인 금형 필터링

### 3. 점검 필요

```
┌──────────────┐
│ ⚠️          │ 긴급
│              │
│     45       │
│  점검 필요    │
└──────────────┘
```

- **표시 정보**: 점검이 필요한 금형 수
- **긴급 표시**: 점검 지연 또는 긴급 점검
- **클릭 시**: 점검 필요 금형 목록

### 4. 수리 중

```
┌──────────────┐
│ 🔧          │ 3.6%
│              │
│     45       │
│  수리 중      │
└──────────────┘
```

- **표시 정보**: 현재 수리 중인 금형 수
- **비율**: 전체 금형 대비 수리 중 비율
- **클릭 시**: 수리 중인 금형 목록

---

## 🔔 최근 활동 피드

실시간으로 시스템 내 모든 활동을 모니터링합니다.

### 활동 유형

#### 1. QR 스캔
```
📷 QR 코드 스캔
금형 M-2024-001 스캔됨
김철수 • 5분 전
```

#### 2. 점검 완료
```
✅ 정기점검 완료
금형 M-2024-002 정기점검 완료
이영희 • 10분 전
```

#### 3. 수리 요청
```
🔧 수리 요청
금형 M-2024-003 긴급 수리 요청
박민수 • 15분 전
```

#### 4. 이관 요청
```
🚚 이관 요청
금형 M-2024-004 이관 요청 승인됨
최지훈 • 20분 전
```

#### 5. 사용자 등록
```
👤 신규 사용자
협력사A 김현우 가입 승인 대기
시스템 • 25분 전
```

### 필터링

- **전체**: 모든 활동 표시
- **QR 스캔**: QR 스캔 활동만
- **점검**: 점검 관련 활동
- **수리**: 수리 관련 활동
- **이관**: 이관 관련 활동

---

## ⚠️ 알림 및 경고

우선순위별로 알림을 분류하여 표시합니다.

### 우선순위

#### 1. 긴급 (Critical)
```
🔴 긴급 수리 필요
금형 M-2024-005 코어 파손 발견
즉시 조치 필요 • 방금 전
[확인하기 →]
```

- **색상**: 빨간색 테두리
- **아이콘**: 🔴
- **조치**: 즉시 확인 필요

#### 2. 높음 (High)
```
🟠 점검 지연
금형 M-2024-006 정기점검 3일 지연
담당자 확인 필요 • 1시간 전
[확인하기 →]
```

- **색상**: 주황색 테두리
- **아이콘**: 🟠
- **조치**: 빠른 확인 필요

#### 3. 보통 (Medium)
```
🟡 점검 예정
금형 M-2024-007 정기점검 3일 남음
일정 확인 • 2시간 전
[확인하기 →]
```

- **색상**: 노란색 테두리
- **아이콘**: 🟡
- **조치**: 일정 확인

#### 4. 낮음 (Low)
```
🔵 정보
시스템 업데이트 완료
버전 1.2.3 적용됨 • 3시간 전
[확인하기 →]
```

- **색상**: 파란색 테두리
- **아이콘**: 🔵
- **조치**: 참고용

---

## 👥 사용자 관리

### 사용자 통계

```
┌─────────────────────────────┐
│ 👥 전체 사용자              │
│    156명                    │
│                   [관리 →]  │
├─────────────────────────────┤
│ ✅ 활성 사용자              │
│    142명 (91%)              │
├─────────────────────────────┤
│ ⏰ 대기 승인                │
│    8명          [승인하기]  │
└─────────────────────────────┘
```

### 사용자 역할

| 역할 | 권한 | 인원 |
|------|------|------|
| 관리자 | 전체 시스템 관리 | 5명 |
| 본사 담당자 | 금형 관리, 승인 | 15명 |
| 협력사 | 점검, 수리 요청 | 89명 |
| 제작처 | 금형 제작, 관리 | 34명 |
| 조회 전용 | 조회만 가능 | 13명 |

### 승인 대기 사용자

```
┌─────────────────────────────────────┐
│ 김현우 (협력사A)                    │
│ 가입일: 2024-03-15                  │
│ 역할: 협력사                        │
│ [승인] [거부]                       │
├─────────────────────────────────────┤
│ 이지은 (제작처B)                    │
│ 가입일: 2024-03-14                  │
│ 역할: 제작처                        │
│ [승인] [거부]                       │
└─────────────────────────────────────┘
```

---

## 🖥️ 시스템 상태 모니터링

### 서버 상태

```
서버 상태                    [정상]
████████████████████░░ 98%
가동률 98%
```

- **정상**: 가동률 95% 이상
- **주의**: 가동률 80-95%
- **경고**: 가동률 80% 미만

### 데이터베이스

```
데이터베이스                 [정상]
███████████████░░░░░ 75%
사용량 75% (1.5TB / 2TB)
```

- **정상**: 사용량 80% 미만
- **주의**: 사용량 80-90%
- **경고**: 사용량 90% 이상

### API 응답 시간

```
API 응답 시간                125ms
█████████████████░░░ 85%
평균 응답 시간
```

- **정상**: 200ms 미만
- **주의**: 200-500ms
- **경고**: 500ms 이상

### 동시 접속자

```
동시 접속자                   45명
실시간 활성 사용자
```

---

## ⚡ 빠른 액션

### 금형 관리

```
┌──────────┬──────────┐
│ ➕       │ 👥       │
│ 금형 등록 │ 사용자   │
│          │ 등록     │
├──────────┼──────────┤
│ 📊       │ 📤       │
│ 통계     │ 데이터   │
│ 보고서   │ 내보내기 │
└──────────┴──────────┘
```

### 시스템 관리

```
┌──────────┬──────────┐
│ 🔔       │ 📋       │
│ 알림     │ 로그     │
│ 설정     │ 조회     │
├──────────┼──────────┤
│ 💾       │ 🔄       │
│ 백업     │ 시스템   │
│ 실행     │ 재시작   │
└──────────┴──────────┘
```

---

## 📈 실시간 차트

### 1. 금형 상태 분포

```
파이 차트
- 가동 중: 69.3% (856개)
- 대기: 18.2% (225개)
- 점검: 8.9% (110개)
- 수리: 3.6% (45개)
```

### 2. 일일 활동 추이

```
라인 차트 (최근 7일)
- QR 스캔: 평균 245회/일
- 점검 완료: 평균 34회/일
- 수리 요청: 평균 8회/일
```

### 3. 협력사별 금형 수

```
바 차트 (상위 10개)
1. 협력사A: 125개
2. 협력사B: 89개
3. 제작처C: 67개
...
```

---

## 🔍 검색 및 필터

### 통합 검색

```
┌─────────────────────────────────┐
│ 🔍 금형 코드, 이름, 위치 검색... │
└─────────────────────────────────┘
```

- 금형 코드 (M-2024-001)
- 금형 이름 (GV80 프론트 범퍼)
- 협력사명 (협력사A)
- 위치 (서울시 강남구)

### 고급 필터

```
상태: [전체 ▼]
위치: [전체 ▼]
기간: [최근 7일 ▼]
담당자: [전체 ▼]

[필터 적용] [초기화]
```

---

## 📱 반응형 디자인

### 데스크톱 (≥ 1920px)
- 4열 그리드 레이아웃
- 맵 높이: 600px
- 사이드바 표시

### 노트북 (≥ 1280px)
- 3열 그리드 레이아웃
- 맵 높이: 500px
- 사이드바 축소

### 태블릿 (≥ 768px)
- 2열 그리드 레이아웃
- 맵 높이: 400px
- 사이드바 숨김

### 모바일 (< 768px)
- 1열 스택 레이아웃
- 맵 높이: 300px
- 햄버거 메뉴

---

## 🔐 권한 관리

### 관리자 권한

- ✅ 시스템 전체 조회
- ✅ 사용자 관리
- ✅ 금형 등록/수정/삭제
- ✅ 승인 처리
- ✅ 시스템 설정
- ✅ 데이터 백업/복원
- ✅ 로그 조회

### 본사 담당자 권한

- ✅ 금형 조회
- ✅ 금형 수정
- ✅ 승인 처리
- ✅ 통계 조회
- ❌ 사용자 관리
- ❌ 시스템 설정

---

## 📊 API 엔드포인트

### 대시보드 통계

```javascript
GET /api/admin/dashboard/stats

Response:
{
  "total_molds": 1234,
  "active_molds": 856,
  "inspection_due": 45,
  "under_repair": 45,
  "total_users": 156,
  "active_users": 142,
  "pending_approvals": 8
}
```

### GPS 위치 데이터

```javascript
GET /api/admin/mold-locations?status=all

Response:
{
  "locations": [
    {
      "id": 1,
      "name": "협력사A",
      "lat": 37.5665,
      "lng": 126.9780,
      "mold_count": 125,
      "status": "active",
      "gps_accuracy": 45,
      "last_update": "2024-03-15T10:30:00Z"
    },
    // ...
  ]
}
```

### 실시간 활동

```javascript
GET /api/admin/activities/recent?limit=20

Response:
{
  "activities": [
    {
      "id": 1,
      "type": "qr_scan",
      "title": "QR 코드 스캔",
      "description": "금형 M-2024-001 스캔됨",
      "user": "김철수",
      "time": "5분 전",
      "timestamp": "2024-03-15T10:25:00Z"
    },
    // ...
  ]
}
```

---

이 문서는 관리자가 시스템 전체를 효율적으로 관리하고 GPS 기반으로 금형 위치를 실시간 추적할 수 있도록 설계되었습니다.
